<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
	</head>
	<body>
		<div id="bgp" style="background: url(img/Interfaces/background1unsodded.jpg); width: 1400px; 		height:600px;"></div>
		<!--描述：绝对定位（position:absolute）:页面相当于坐标系，原点在左上角-->
        <!--草坪-->
		<div id="lawn" style="position: absolute; left: 258px; top: 256px; background: 			url(img/Interfaces/sod1row.png); width: 0px; height: 117px; "></div>
		<!--卷棒-->
        <img id="sodroll" src="img/Interfaces/SodRoll.png" style="position: absolute; left: 255px; top: 			203px; ">
        </img>
		<!--草圈-->
		<!--background: url(img/SodRollCap.png);<img>自动设定图片大小，而且等比例伸缩-->
		<img id="sodrollCap" src="img/Interfaces/SodRollCap.png" style="position: absolute; left: 250px; top: 			298px; "></img>
	</body>
	<!---->
    
	<script src="js/jquery-1.8.3.js"></script>
	
	<script>
		$("#sodroll").animate({left: 960, width: 50, top: 244}, 3000);
		$("#sodrollCap").animate({left: 960, width: 52, top: 317}, 3000);
		$("#lawn").animate({width: 740}, 3000);
		setTimeout(function() {
			$("#sodroll").hide();
			$("#sodrollCap").hide();
			//僵尸
			var zomb = $("<div></div>");
			zomb.css({
				width: "154px",
				height: "160px",
				background: "url(img/Zombies/FootballZombie.gif)",
				position: "absolute",
				left: "1100px",
				top: "200px"
			});
			$(document.body).append(zomb);
			zomb.animate({left: 0}, 20000, "linear");
			//豌豆射手
			var shooter = $("<div></div>");
			shooter.css({
				width: "71px",
				height: "71px",
				background: "url(img/Plants/Peashooter.gif)",
				position: "absolute",
				left: "255px",
				top: "250px"
			});
			$(document.body).append(shooter);
			//豌豆子弹
			//定时器，每隔1000毫秒执行一次代码
			setInterval(function()　{
				var bullet = $("<div></div>");
				
				bullet.css({
					width: "34px",
					height: "34px",
					background: "url(img/Plants/PB01.gif)",
					position: "absolute",
					left: "320px",
					top: "250px"
				});
				$(document.body).append(bullet);
				//子弹向右匀速运动
				bullet.animate({left: 1500}, 4000, "linear", function() {
					bullet.remove();//回调方法
				});
				
				//判断子弹和僵尸什么时候相撞
				var monitor = setInterval(function() {
					if(zomb && ((bullet.position().left-50) >= zomb.position().left)){
						//打中僵尸后更改子弹背景
						bullet.css({
							background: "url(img/Plants/PeaBulletHit.gif)",
							position: zomb.position.left-90
						});
						setTimeout(function() {
							bullet.remove();//删除子弹
						}, 100);
						//删除定时器
						clearInterval(monitor);
						//子弹打中僵尸后更换僵尸背景
						zomb.css({
							background: "url(img/Zombies/BoomDie.gif)"
						});
						zomb.stop();
						setTimeout(function() {
							zomb.remove();
							zomb = null;
							//die.remove();
						}, 3000);
					}
					
				}, 30);
				
			}, 1000);
		}, 3000);
		/*setTimeout(function() {
							//var pos = zomb.position().left;
							zomb.remove();//删除僵尸，替换成死亡的僵尸
							var zombDie = $("<div></div>");
							zombDie.css({
								width: "236px",
								height: "170px",
								background: "url(img/Zombies/Die.gif)",
								position: "absolute",
								left: "680px",
								top: "200px"
							});
							$(document.body).append(zombDie);
						},1000);*/
						/*var die = zomb.clone();
						die.css({
							width: "150px",
							height: "186px",
							background: "url(img/Zombies/BoomDie.gif)"
						});
						$(document.body).append(die);*/
	</script>
	
	
</html>
